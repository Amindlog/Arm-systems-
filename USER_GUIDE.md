# Руководство пользователя

ARM система Диспетчер 1.0, г. Сарапула, Сарапульский водоканал

## Содержание

- [Введение](#введение)
- [Вход в систему](#вход-в-систему)
- [Навигация по системе](#навигация-по-системе)
- [Работа с картой](#работа-с-картой)
- [Работа с заявками](#работа-с-заявками)
- [Работа с гидрантами](#работа-с-гидрантами)
- [Роли пользователей](#роли-пользователей)
- [Часто задаваемые вопросы](#часто-задаваемые-вопросы)

## Введение

ARM система Диспетчер 1.0 - это веб-приложение для управления заявками на утечки в системе водоотведения и водопровода. Система позволяет:

- Создавать и управлять заявками на устранение утечек
- Отслеживать статусы заявок
- Работать с интерактивной картой
- Управлять гидрантами
- Просматривать статистику заявок

## Вход в систему

### Авторизация

1. Откройте страницу входа в систему
2. Введите ваш **логин** и **пароль**
3. Нажмите кнопку **"Войти"**

После успешного входа вы будете перенаправлены на главную страницу (Карта).

### Регистрация нового пользователя

Если у вас нет учетной записи:

1. Перейдите на страницу регистрации
2. Заполните форму:
   - **Логин** - уникальное имя пользователя
   - **Пароль** - надежный пароль
   - **Имя** - ваше полное имя
   - **Роль** - выберите роль из списка:
     - Разработчик
     - Диспетчер
     - Слесарь
3. Нажмите кнопку **"Зарегистрироваться"**

**Примечание:** Регистрация доступна только при наличии соответствующих прав доступа.

### Выход из системы

Для выхода из системы нажмите кнопку **"Выйти"** в правом верхнем углу страницы.

## Навигация по системе

В верхней части страницы расположена навигационная панель с тремя основными разделами:

- **Карта** - главная страница с интерактивной картой
- **Заявки** - список всех заявок
- **Гидранты** - управление гидрантами

Выберите нужный раздел, кликнув на соответствующую ссылку.

## Работа с картой

### Просмотр карты

Главная страница системы представляет собой интерактивную карту Yandex Maps с отображением:

- **Схемы канализации** (оранжевые линии)
- **Схемы водопровода** (синие линии)
- **Заявки** (маркеры на карте)
- **Гидранты** (при включенном слое)
- **Колодцы, камеры, линии** (при включенном слое)

### Поиск адреса

В поле поиска автоматически установлено значение **"Сарапул, ул. "**. Вы можете:

1. Дополнить адрес в поле поиска
2. Нажать Enter или кликнуть на кнопку поиска
3. Карта автоматически переместится к найденному адресу

### Создание заявки с карты

**Доступно для:** Разработчик, Диспетчер

1. Кликните на карте в нужном месте
2. Откроется модальное окно с формой создания заявки
3. Заполните форму:
   - **Адрес** - автоматически заполняется из карты (можно изменить)
   - **Описание** - опишите проблему
   - **Номер телефона** - для обратной связи
   - **Бригада** - выберите бригаду (водосеть или канализация)
4. Нажмите кнопку **"Создать заявку"**

Заявка будет создана и отображена на карте в виде маркера.

### Управление слоями карты

В левой панели управления картой вы можете:

- **Включить/выключить слой водопровода** - отображение синих линий водопровода
- **Включить/выключить слой канализации** - отображение оранжевых линий канализации
- **Включить/выключить слой гидрантов** - отображение гидрантов на карте

### Работа с объектами на карте

При клике на объекты на карте (колодцы, камеры, линии) открывается информационное окно с деталями объекта. В зависимости от вашей роли вы можете:

- Просматривать информацию об объекте
- Редактировать объект (Разработчик, Диспетчер)
- Удалять объект (Разработчик)

## Работа с заявками

### Просмотр списка заявок

1. Перейдите в раздел **"Заявки"** через навигационное меню
2. На странице отображается список всех заявок

### Статистика заявок

В верхней части страницы заявок отображается статистика:

- **Новых** - количество новых заявок
- **В работе** - количество заявок в процессе выполнения
- **Выполненных** - количество завершенных заявок
- **Ложных** - количество отмененных/ложных заявок

**Фильтрация по статистике:**

Кликните на карточку статистики, чтобы отфильтровать заявки по соответствующему статусу. Повторный клик отменит фильтр.

### Фильтрация заявок

Вы можете фильтровать заявки по следующим параметрам:

- **Статус** - через клик на карточку статистики
- **Бригада** - выберите бригаду из выпадающего списка
- **Дата от** - выберите начальную дату
- **Дата до** - выберите конечную дату

### Просмотр деталей заявки

1. Найдите нужную заявку в списке
2. Кликните на заявку, чтобы развернуть детальную информацию
3. В развернутом виде отображается:
   - Полный адрес
   - Описание проблемы
   - Номер телефона
   - Бригада
   - Статус заявки
   - Дата создания
   - Время выполнения (если заявка выполнена)
   - Координаты

### Изменение статуса заявки

1. Найдите нужную заявку в списке
2. В развернутом виде выберите новый статус из выпадающего списка:
   - **Новая** - только что созданная заявка
   - **В работе** - заявка находится в процессе выполнения
   - **Выполнена** - заявка завершена
   - **Ложная** - заявка отменена как ложная
3. Статус изменится автоматически

### Редактирование заявки

**Доступно для:** Разработчик, Диспетчер

1. Найдите нужную заявку в списке
2. Разверните заявку
3. Нажмите кнопку **"Редактировать"**
4. В открывшемся модальном окне измените нужные поля:
   - Адрес
   - Описание
   - Номер телефона
   - Бригада
   - Статус
   - Время выполнения (только для Разработчика)
5. Нажмите кнопку **"Сохранить"**

### Редактирование времени выполнения

**Доступно только для:** Разработчик

1. Найдите выполненную заявку в списке
2. В свернутом виде (когда заявка не развернута) вы увидите время закрытия
3. Кликните на время закрытия
4. Введите новое время в формате даты и времени
5. Нажмите Enter или кликните вне поля

Время выполнения также можно изменить через редактирование заявки.

### Удаление заявки

**Доступно только для:** Разработчик

1. Найдите нужную заявку в списке
2. Разверните заявку
3. Нажмите кнопку **"Удалить"**
4. Подтвердите удаление

**Внимание:** Удаление заявки необратимо!

## Работа с гидрантами

### Просмотр списка гидрантов

1. Перейдите в раздел **"Гидранты"** через навигационное меню
2. На странице отображается список всех гидрантов

### Создание гидранта

**Доступно для:** Разработчик, Диспетчер

1. На странице гидрантов нажмите кнопку **"Добавить гидрант"**
2. Заполните форму:
   - **Адрес** - адрес расположения гидранта
   - **Описание** - дополнительная информация
   - **Статус** - выберите статус:
     - Рабочий
     - Нерабочий
     - Требует ремонта
   - **Координаты** - укажите координаты или выберите на карте
3. Нажмите кнопку **"Создать"**

### Редактирование гидранта

**Доступно для:** Разработчик, Диспетчер

1. Найдите нужный гидрант в списке
2. Нажмите кнопку **"Редактировать"**
3. Измените нужные поля
4. Нажмите кнопку **"Сохранить"**

### Удаление гидранта

**Доступно только для:** Разработчик

1. Найдите нужный гидрант в списке
2. Нажмите кнопку **"Удалить"**
3. Подтвердите удаление

### Загрузка фотографий гидранта

**Доступно для:** Разработчик, Диспетчер

1. Найдите нужный гидрант в списке
2. Нажмите кнопку **"Редактировать"**
3. В форме редактирования найдите раздел **"Фотографии"**
4. Нажмите кнопку **"Выбрать файл"**
5. Выберите изображение с вашего компьютера
6. Нажмите кнопку **"Загрузить"**

## Роли пользователей

### Разработчик (development)

Полный доступ ко всем функциям системы:

- Создание заявок
- Просмотр всех заявок
- Редактирование любых заявок
- Редактирование времени выполнения заявок
- Удаление заявок
- Управление гидрантами
- Управление объектами на карте
- Удаление схем и объектов на карте

### Диспетчер (dispatcher)

Управление заявками и основными функциями:

- Создание заявок (при клике на карте)
- Просмотр всех заявок
- Редактирование своих заявок
- Изменение статусов заявок
- Управление гидрантами
- Редактирование объектов на карте

### Слесарь (plumber)

Просмотр и базовое управление:

- Просмотр всех заявок
- Изменение статусов заявок, которые ему назначены
- Просмотр карты
- Просмотр гидрантов

## Часто задаваемые вопросы

### Как создать заявку?

Заявку можно создать двумя способами:

1. **С карты:** Кликните на карте в нужном месте, заполните форму и нажмите "Создать заявку"
2. **Через раздел "Заявки":** Перейдите в раздел "Заявки" и используйте форму создания (если доступна)

### Как изменить статус заявки?

1. Найдите заявку в списке
2. Разверните заявку
3. Выберите новый статус из выпадающего списка

### Как отфильтровать заявки по дате?

1. Перейдите в раздел "Заявки"
2. Найдите поля фильтрации "Дата от" и "Дата до"
3. Выберите нужные даты
4. Заявки автоматически отфильтруются

### Как просмотреть статистику заявок?

Статистика отображается в верхней части страницы "Заявки" в виде карточек с количеством заявок по каждому статусу.

### Как найти адрес на карте?

В поле поиска на карте введите адрес (по умолчанию установлено "Сарапул, ул. ") и нажмите Enter. Карта автоматически переместится к найденному адресу.

### Как включить/выключить слои на карте?

В левой панели управления картой используйте переключатели для включения/выключения слоев:

- Водопровод
- Канализация
- Гидранты

### Как редактировать время выполнения заявки?

**Только для Разработчика:**

1. Найдите выполненную заявку в списке
2. В свернутом виде кликните на время закрытия
3. Введите новое время
4. Нажмите Enter

### Как загрузить фотографию гидранта?

1. Перейдите в раздел "Гидранты"
2. Найдите нужный гидрант и нажмите "Редактировать"
3. В форме редактирования найдите раздел "Фотографии"
4. Выберите файл и загрузите его

### Как выйти из системы?

Нажмите кнопку **"Выйти"** в правом верхнем углу страницы.

### Что делать, если забыл пароль?

Обратитесь к администратору системы для восстановления пароля.

---

**Версия:** 1.0  
**Дата обновления:** 2025  
**Разработчик:** Пономарев Александр
